# Context Aware & Vision Grounded KB Agent — Web App Environment Variables
# ============================================
# Populate from AZD outputs after provisioning:
#   azd env get-values > src/web-app/.env
#
# Or copy this file and fill in manually:
#   cp .env.sample .env

# --- KB Agent endpoint ---
# Local development: the agent runs via `make agent` on port 8088
AGENT_ENDPOINT=http://localhost:8088

# --- Azure Blob Storage — serving account (images) ---
SERVING_BLOB_ENDPOINT=https://<serving-storage-account>.blob.core.windows.net
SERVING_CONTAINER_NAME=serving

# --- Azure Cosmos DB — conversation history (optional) ---
# Leave blank for local dev without persistence.
COSMOS_ENDPOINT=
COSMOS_DATABASE_NAME=kb-agent

# --- Chainlit Authentication (Azure AD OAuth) ---
# Set these to enable the Azure AD login button in the Chainlit UI.
# When unset (local dev), users are auto-accepted as "local-user".
OAUTH_AZURE_AD_CLIENT_ID=
OAUTH_AZURE_AD_CLIENT_SECRET=
OAUTH_AZURE_AD_TENANT_ID=

# Secret for signing Chainlit session JWTs.
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
CHAINLIT_AUTH_SECRET=

# --- Azure Credential ---
# No keys needed for Azure services — uses DefaultAzureCredential (az login for local dev).
# Ensure your identity has the required RBAC roles:
#   - Storage Blob Data Reader (on serving storage account)
#   - Cosmos DB Built-in Data Contributor (if using Cosmos DB)
#   - Storage Blob Data Reader + Storage Blob Delegator (on serving storage)
